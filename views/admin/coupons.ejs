<%- include('../layout/adminHeadder.ejs') %>
<style>
    body {
      background-color: #f0f0f0; /* Light gray background */
      font-family: 'Times New Roman', Times, serif; /* Vintage-style font */
    }
    .card-product-grid {
      background-color: #fff; /* White background */
      border: 1px solid #ccc; /* Light gray border */
      border-radius: 10px;
      box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); /* Subtle shadow */
      margin-bottom: 20px;
    }
    .card-header {
      background-color: #f8f5b5; /* Tan color for card header */
      border-bottom: 1px solid #ccc;
      border-radius: 10px 10px 0 0;
      padding: 15px;
      text-align: center;
    }
    .card-body {
      padding: 15px;
    }
    .table {
      margin-bottom: 0;
    }
    .table th,
    .table td {
      border: none; /* Remove default table borders */
      padding: 8px 10px;
      font-size: 0.9em;
    }
    .title {
      font-size: 1.2em;
      color: #333; /* Dark text color */
      text-decoration: none;
    }
    .status {
      font-size: 0.9em;
      font-style: italic;
    }
    .btn-brand.active {
      background-color: #32cb85; /* Green button for active status */
      color: #fff;
    }
    .btn-brand.inactive {
      background-color: rgb(203, 69, 69); /* Red button for inactive status */
      color: #fff;
    }
  </style>

<section class="content-main">
    <div class="content-header">
        <div>
            <h2 class="content-title card-title">Coupons</h2>
        </div>
        <div>
            <a href="/admin/add-coupon" class="btn btn-primary btn-sm rounded">Create new</a>
        </div>
    </div>
    <header class="card card-body mb-4">
        <div class="row gx-3">
            <div class="col-lg-4 col-md-6 me-auto">
                <input type="text" placeholder="Search..." class="form-control" />
            </div>
        </div>
    </header>
    <!-- card-header end// -->
    <div class="row">
        <% couponData.forEach(function(coupon) { %>
            <div class="col-xl-3 col-lg-4 col-md-6">
                <div class="card card-product-grid">
                    <div class="card-header">
                        <h4>
                            <%= coupon.coupon_code %>
                        </h4>
                    </div>
                <div class="card-body">
                    <table class="table">
                    <tr>
                        <th>Discount</th>
                        <td><%= coupon.discount_percentage %> %</td>
                    </tr>
                    <tr>
                        <th>Status</th>
                        <td class="status <%= coupon.status ? 'active' : 'inactive' %>">
                        <%= coupon.status ? 'Active' : 'Inactive' %>
                        </td>
                    </tr>
                    <tr>
                        <th>Expiry Date</th>
                        <td><%= new Date(coupon.expiry_date).toLocaleDateString() %></td>
                    </tr>
                    <tr>
                        <th>Min Purchase Amount</th>
                        <td>$<%= coupon.min_purchase_amount.toFixed(2) %></td>
                    </tr>
                    <tr>
                        <th>Max Redeemable Amount</th>
                        <td>$<%= coupon.max_redeemable_amount.toFixed(2) %></td>
                    </tr>
                    <tr>
                        <th>Created Date</th>
                        <td><%= new Date(coupon.created_date).toLocaleDateString() %></td>
                    </tr>
                    </table>
                    <form action="/admin/coupons/<%= coupon._id %>/toggle-status" method="POST">
                    <button type="submit" class="btn btn-sm btn-brand mt-2 <%= coupon.status ? 'active' : 'inactive' %>">
                        <%= coupon.status ? 'Deactivate' : 'Activate' %>
                    </button>
                    </form>
                </div>
                </div>
                <!-- card-product end// -->
            </div>
            <!-- col end// -->
        <% }); %>
    </div>
    <!-- row.// -->
    <div class="pagination-area mt-15 mb-50">
        <nav aria-label="Page navigation example">
            <ul class="pagination justify-content-start">
                <li class="page-item active"><a class="page-link" href="#">01</a></li>
                <li class="page-item"><a class="page-link" href="#">02</a></li>
                <li class="page-item"><a class="page-link" href="#">03</a></li>
                <li class="page-item"><a class="page-link dot" href="#">...</a></li>
                <li class="page-item"><a class="page-link" href="#">16</a></li>
                <li class="page-item">
                    <a class="page-link" href="#"><i class="material-icons md-chevron_right"></i></a>
                </li>
            </ul>
        </nav>
    </div>
</section>
<!-- content-main end// -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<!-- footer -->
<%- include('../layout/adminFooter.ejs') %>